<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>å’Œè“å­ARã‚®ãƒ•ãƒˆ A/B ã‚»ãƒƒãƒˆï¼ˆéŸ³å£°ä»˜ãï¼‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />

  <style>
    body {
      margin: 0;
      background: #000;
      color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      padding: 20px;
      box-sizing: border-box;
    }

    h1 {
      font-size: 1.4rem;
      margin-bottom: 12px;
    }

    p {
      line-height: 1.6;
      margin-bottom: 20px;
      font-size: 0.95rem;
    }

    .btn-row {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 28px;
    }

    .ar-btn {
      padding: 12px 20px;
      border-radius: 999px;
      border: none;
      font-size: 16px;
      font-weight: bold;
      background: #d9ac4a;
      color: #000;
      text-decoration: none;
    }

    .ar-btn.sub {
      background: #444;
      color: #fff;
    }

    /* â–¼ éŸ³å£°ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«UI */
    .audio-box {
      margin-top: auto;
      padding-top: 10px;
      border-top: 1px solid #333;
    }

    .audio-row {
      display: flex;
      justify-content: center;
      gap: 14px;
      margin-top: 14px;
    }

    button.audio-btn {
      padding: 10px 16px;
      border-radius: 12px;
      border: none;
      background: #222;
      color: #fff;
      font-size: 1rem;
    }

    .volume-slider {
      width: 180px;
    }

  </style>
</head>

<body>

  <h1>å’Œè“å­ARã‚®ãƒ•ãƒˆ A/Bã‚»ãƒƒãƒˆ</h1>
  <p>
    ä¸‹ã®ãƒœã‚¿ãƒ³ã‹ã‚‰ Aã‚»ãƒƒãƒˆ / Bã‚»ãƒƒãƒˆ ã‚’é¸ã¶ã¨ã€ARè¡¨ç¤ºãŒé–‹ãã¾ã™ã€‚<br>
    â€»iPhone / iPad ã® Safari ã§ã”åˆ©ç”¨ãã ã•ã„ã€‚
  </p>

  <!-- â–¼ A/B ã‚»ãƒƒãƒˆã®ARèµ·å‹•ãƒœã‚¿ãƒ³ -->
  <div class="btn-row">
    <a class="ar-btn"
       rel="ar"
       href="https://www.dropbox.com/scl/fi/5q835qy92gp4z1yizxg9s/wagashi_A.usdz?dl=1">
      Aã‚»ãƒƒãƒˆ
    </a>

    <a class="ar-btn sub"
       rel="ar"
       href="https://www.dropbox.com/scl/fi/kvt216g3yshp1p3ytsjin/wagashi_B.usdz?dl=1">
      Bã‚»ãƒƒãƒˆ
    </a>
  </div>

  <!-- â–¼ éŸ³å£°UIï¼ˆBGM / ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ / ãƒŸãƒ¥ãƒ¼ãƒˆ / éŸ³é‡ï¼‰ -->
  <div class="audio-box">
    <h2 style="font-size:1.1rem;margin-bottom:6px;">éŸ³å£°ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«</h2>

    <!-- BGM -->
    <div class="audio-row">
      <button id="bgmPlay" class="audio-btn">ğŸµ BGM å†ç”Ÿ</button>
      <button id="bgmStop" class="audio-btn">â¹ åœæ­¢</button>
    </div>

    <!-- ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="audio-row">
      <button id="narPlay" class="audio-btn">ğŸ™ ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</button>
      <button id="narStop" class="audio-btn">â¹ åœæ­¢</button>
    </div>

    <!-- éŸ³é‡ -->
    <div class="audio-row">
      <button id="muteToggle" class="audio-btn">ğŸ”‡ ãƒŸãƒ¥ãƒ¼ãƒˆ</button>
      <input id="volumeSlider" class="volume-slider" type="range" min="0" max="1" step="0.01" value="0.8">
    </div>
  </div>

  <!-- â–¼ éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚ãªãŸã®éŸ³æºã«ç½®ãæ›ãˆã¦ãã ã•ã„ï¼‰ -->
  <audio id="bgmAudio" src="./audio/bgm.mp3" loop></audio>
  <audio id="narAudio" src="./audio/narration.mp3"></audio>

  <script>
    const bgm = document.getElementById("bgmAudio");
    const nar = document.getElementById("narAudio");

    const bgmPlay = document.getElementById("bgmPlay");
    const bgmStop = document.getElementById("bgmStop");

    const narPlay = document.getElementById("narPlay");
    const narStop = document.getElementById("narStop");

    const muteToggle = document.getElementById("muteToggle");
    const volumeSlider = document.getElementById("volumeSlider");

    let isMuted = false;

    /* â–¼ BGM */
    bgmPlay.addEventListener("click", () => {
      bgm.play();
    });

    bgmStop.addEventListener("click", () => {
      bgm.pause();
      bgm.currentTime = 0;
    });

    /* â–¼ ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ */
    narPlay.addEventListener("click", () => {
      nar.play();
    });

    narStop.addEventListener("click", () => {
      nar.pause();
      nar.currentTime = 0;
    });

    /* â–¼ ãƒŸãƒ¥ãƒ¼ãƒˆ */
    muteToggle.addEventListener("click", () => {
      isMuted = !isMuted;
      bgm.muted = isMuted;
      nar.muted = isMuted;
      muteToggle.textContent = isMuted ? "ğŸ”Š ãƒŸãƒ¥ãƒ¼ãƒˆè§£é™¤" : "ğŸ”‡ ãƒŸãƒ¥ãƒ¼ãƒˆ";
    });

    /* â–¼ éŸ³é‡ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ */
    volumeSlider.addEventListener("input", (e) => {
      const v = e.target.value;
      bgm.volume = v;
      nar.volume = v;
    });
  </script>

</body>
</html>
